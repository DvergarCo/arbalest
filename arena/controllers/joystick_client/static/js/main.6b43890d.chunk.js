(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports=t(16)},16:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),r=t(9),a=t.n(r),i=t(1),l=t(2),s=t(5),u=t(4),d=t(3),f=t(6),m=t(7),b=t.n(m),p=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).nippleRef=c.a.createRef(),t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.manager=b.a.create({mode:"dynamic",maxNumberOfNipples:1,color:"#fff",zone:this.nippleRef.current}),this.props.listener(this.manager)}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.nippleRef,style:v})}}]),n}(o.Component),v={flex:1,background:"#000",borderRadius:"12px"},h=p,g=150,y=5e3,x=[0,1,2,3];document.body.style.margin="0px";var k=function(e){function n(){var e,t;Object(i.a)(this,n);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(c)))).state={status:"connecting",robotId:x[0]},t.angle=0,t.force=0,t.sender=null,t.connecter=null,t.connect=function(){t.conn=new WebSocket("ws://"+window.location.hostname+":9000"),t.conn.onopen=function(){t.setState({status:"connected"}),clearTimeout(t.connecter),t.sender=setInterval(t.sendDirection,g)},t.conn.onclose=function(){t.setState({status:"closed"}),clearInterval(t.sender),t.connecter=setTimeout(t.connect,y)},t.conn.onerror=function(e){t.setState({status:"error"}),clearInterval(t.sender),t.connecter=setTimeout(t.connect,y)}},t.sendDirection=function(){var e=t.state.robotId,n=Object(d.a)(t),o=n.angle,c=n.force;t.conn&&t.conn.send("".concat(e,":").concat(o,"|").concat(c))},t.listener=function(e){e.on("move",function(e,n){n.angle&&(t.angle=n.angle.radian,t.force=n.force)}),e.on("end",function(){t.angle=0,t.force=0})},t.onRobotSelection=function(e){t.setState({robotId:e})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){var e=this,n=this.state,t=n.status,o=n.robotId;return c.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"relative",width:"100%",height:"100vh",boxSizing:"border-box",padding:"0.5em"}},c.a.createElement("div",{style:O},c.a.createElement("div",null,c.a.createElement("div",null,"Status: ",t)),x.map(function(n){return c.a.createElement("button",{onClick:function(){return e.onRobotSelection(n)},key:n,style:{margin:"1em",color:n===o?"red":"black"}},"Robot ",n)})),c.a.createElement("div",{style:w},"connected"===t&&c.a.createElement(h,{listener:this.listener})))}}]),n}(o.Component),w={flex:1,display:"flex",flexDirection:"column",position:"relative"},O={flex:0,margin:"0.5em",background:"#fff"},j=k;a.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.6b43890d.chunk.js.map