(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),i=n(8),a=n.n(i),r=n(1),s=n(2),l=n(4),u=n(3),d=n(5),f=n(6),h=n.n(f),p=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).nippleRef=c.a.createRef(),n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.manager=h.a.create({mode:"semi",catchDistance:150,color:"#fff",zone:this.nippleRef.current}),this.props.listener(this.manager)}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.nippleRef,style:b})}}]),e}(o.Component),b={flex:1,background:"#000"},m=p,v=[0,1,2,3],w=function(t){function e(){var t,n;Object(r.a)(this,e);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(c)))).state={status:"connecting",robotId:v[0]},n.sendDirection=function(t){var e=n.state.robotId;n.conn.send("".concat(e,":").concat(t))},n.listener=function(t){t.on("dir",function(t,e){e.direction&&e.direction.angle&&n.sendDirection(e.direction.angle)}),t.on("end",function(){n.sendDirection("stay")})},n.onRobotSelection=function(t){n.setState({robotId:t})},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.conn=new WebSocket("ws://"+window.location.hostname+":9000"),this.conn.onopen=function(){t.setState({status:"connected"})},this.conn.onclose=function(){t.setState({status:"closed"})},this.conn.onerror=function(e){t.setState({status:"error"})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.status,o=e.robotId,i={display:"flex",flexDirection:"column",position:"relative",width:"100%",height:"".concat(window.innerHeight,"px")};return c.a.createElement("div",null,c.a.createElement("div",{style:i},c.a.createElement("div",{style:y},"Status: ",n,v.map(function(e){return c.a.createElement("button",{onClick:function(){return t.onRobotSelection(e)},key:e,style:{margin:"1em",color:e===o?"red":"black"}},"Robot ",e)})),"connected"===n&&c.a.createElement(m,{listener:this.listener})))}}]),e}(o.Component),y={flex:0,margin:"0.5em",background:"#fff"},g=w;a.a.render(c.a.createElement(g,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.a1c9d23a.chunk.js.map